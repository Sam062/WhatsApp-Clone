    roomRepo.findAll().stream().map(room -> { MessagesModel msgModel = new MessagesModel(); RoomModel roomModel = new RoomModel(); BeanUtils.copyProperties(room, roomModel); roomModel.setMessageList(room.getMessageList().stream().map(msg -> { BeanUtils.copyProperties(msg, msgModel); return msgModel; }).collect(Collectors.toSet())); return roomModel; }).collect(Collectors.toList());